<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="集合 数组在扩容的时候很麻烦,灵活性不够 集合框架体系   (P.500)单列集合 –&gt; 一个一个存放  双列集合 –&gt; 按照键值对存放  Collection接口遍历元素的方式–Iterator(迭代器)iterator 方式 增强for (foreach) 方式 –&gt; 底层仍然是迭代器1234567891011121314151617181920212223242526272">
<meta property="og:type" content="article">
<meta property="og:title" content="ArrayList, HashSet 部分源码探究">
<meta property="og:url" content="http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/index.html">
<meta property="og:site_name" content="Suchanglii&#39;s blog">
<meta property="og:description" content="集合 数组在扩容的时候很麻烦,灵活性不够 集合框架体系   (P.500)单列集合 –&gt; 一个一个存放  双列集合 –&gt; 按照键值对存放  Collection接口遍历元素的方式–Iterator(迭代器)iterator 方式 增强for (foreach) 方式 –&gt; 底层仍然是迭代器1234567891011121314151617181920212223242526272">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230323154042529.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230323155521713.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230323155729932.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230323161335995.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230323165128852.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230323174007676.png">
<meta property="og:image" content="http://suchanglii.github.io/images/ArrayList%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B61.png">
<meta property="og:image" content="http://suchanglii.github.io/assets/image-20230324084305846.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230323210547119.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230324085852344.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230324090016435.png">
<meta property="og:image" content="http://suchanglii.github.io/images/Vector%E5%BA%95%E5%B1%82%E5%88%86%E6%9E%90-1699511734768-2.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230324100732361.png">
<meta property="og:image" content="http://suchanglii.github.io/images/LinkedList(%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8)%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81%E6%9C%BA%E5%88%B6.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230325081829730.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230731095417783.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230731095520256.png">
<meta property="og:image" content="http://suchanglii.github.io/images/HashSet%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230325162043659.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230325164011111.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230325164254386.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230325175433431.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230325181328731.png">
<meta property="og:image" content="http://suchanglii.github.io/images/image-20230326094723135.png">
<meta property="article:published_time" content="2023-03-27T16:00:00.000Z">
<meta property="article:modified_time" content="2023-11-10T13:15:47.394Z">
<meta property="article:author" content="Suchanglii">
<meta property="article:tag" content="java基础">
<meta property="article:tag" content="集合">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://suchanglii.github.io/images/image-20230323154042529.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>ArrayList, HashSet 部分源码探究</title>
    <!-- async scripts -->
    <!-- Google Analytics -->


    <!-- Umami Analytics -->


    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 7.0.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fa-solid fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa-solid fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/Suchanglii/Suchanglii.github.io">Projects</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E7%BA%BF%E7%A8%8B/"><i class="fa-solid fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8B/"><i class="fa-solid fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fa-solid fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&text=ArrayList, HashSet 部分源码探究"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&is_video=false&description=ArrayList, HashSet 部分源码探究"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ArrayList, HashSet 部分源码探究&body=Check out this article: http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/"><i class="fa-solid fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&name=ArrayList, HashSet 部分源码探究&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&t=ArrayList, HashSet 部分源码探究"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    
    
      <div id="toc">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">1.</span> <span class="toc-text">集合</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E4%BD%93%E7%B3%BB-P-500"><span class="toc-number">1.1.</span> <span class="toc-text">集合框架体系   (P.500)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection%E6%8E%A5%E5%8F%A3%E9%81%8D%E5%8E%86%E5%85%83%E7%B4%A0%E7%9A%84%E6%96%B9%E5%BC%8F%E2%80%93Iterator-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">1.2.</span> <span class="toc-text">Collection接口遍历元素的方式–Iterator(迭代器)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#iterator-%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">iterator 方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%BC%BAfor-foreach-%E6%96%B9%E5%BC%8F-%E2%80%93-%E5%BA%95%E5%B1%82%E4%BB%8D%E7%84%B6%E6%98%AF%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">1.2.2.</span> <span class="toc-text">增强for (foreach) 方式 –&gt; 底层仍然是迭代器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List%E6%8E%A5%E5%8F%A3%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-%E7%BB%86%E5%8C%96%E5%88%B0%E5%AD%90%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.3.</span> <span class="toc-text">List接口常用方法 ,细化到子接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ArrayList%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-number">1.4.</span> <span class="toc-text">ArrayList底层结构和源码分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E9%87%8D%E7%82%B9-%E9%9A%BE%E7%82%B9-P-510"><span class="toc-number">1.4.1.</span> <span class="toc-text">底层源码分析    重点,难点    (P.510)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%8F%82%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">无参构造器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E5%8F%82%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">有参构造器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vector-%E5%BA%95%E5%B1%82%E6%9C%BA%E6%9E%84%E5%92%8C%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90"><span class="toc-number">1.5.</span> <span class="toc-text">Vector 底层机构和源码剖析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector%E4%B8%8EArrayList%E6%AF%94%E8%BE%83"><span class="toc-number">1.5.1.</span> <span class="toc-text">Vector与ArrayList比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6%E5%88%86%E6%9E%90"><span class="toc-number">1.5.2.</span> <span class="toc-text">底层机制分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LinkedList-%E5%BA%95%E5%B1%82%E6%9C%BA%E6%9E%84%E5%88%A8%E6%9E%90"><span class="toc-number">1.6.</span> <span class="toc-text">LinkedList 底层机构刨析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set-%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.</span> <span class="toc-text">Set 接口和常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashSet%E4%B8%AD%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%AE%B9%E6%98%93%E6%B7%B7%E6%B7%86%E7%9A%84%E5%85%B3%E9%94%AE"><span class="toc-number">1.8.</span> <span class="toc-text">&#x3D;&#x3D;HashSet中的两个容易混淆的关键&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashSet-%E2%80%93-%E5%BA%95%E5%B1%82%E4%BB%8D%E7%84%B6%E6%98%AF-HashMap-P-522"><span class="toc-number">1.9.</span> <span class="toc-text">HashSet  –&gt;底层仍然是 HashMap(P.522)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AC%A1HashSet-add"><span class="toc-number">1.9.1.</span> <span class="toc-text">第一次HashSet.add( )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AC%A1HashSet-add-%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%90%8C%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.9.2.</span> <span class="toc-text">第三次HashSet.add( )   添加相同的对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8E%E6%AD%A4%E9%97%AE%E9%A2%98"><span class="toc-number">1.9.3.</span> <span class="toc-text">对于此问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6%E6%9C%892%E7%A7%8D"><span class="toc-number">1.9.3.1.</span> <span class="toc-text">扩容机制有2种</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">1.9.3.2.</span> <span class="toc-text">练习:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LinkedHashSet-HashSet%E7%9A%84%E5%AD%90%E7%B1%BB"><span class="toc-number">1.10.</span> <span class="toc-text">LinkedHashSet    HashSet的子类</span></a></li></ol></li></ol>
      </div>
    
  </span>
</div>

    
    <div class="content index py4 ">
        
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle p-name" itemprop="name headline">
        ArrayList, HashSet 部分源码探究
    </h1>



    <div class="meta">
      <span class="author p-author h-card" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span class="p-name" itemprop="name">Suchanglii</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2023-03-27T16:00:00.000Z" class="dt-published" itemprop="datePublished">2023-03-28</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fa-solid fa-tag"></i>
        <a class="p-category" href="/tags/java%E5%9F%BA%E7%A1%80/" rel="tag">java基础</a>, <a class="p-category" href="/tags/%E9%9B%86%E5%90%88/" rel="tag">集合</a>
    </div>


    </div>
  </header>
  

  <div class="content e-content" itemprop="articleBody">
    <h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><p><img src="/./../images/image-20230323154042529.png" alt="image-20230323154042529"></p>
<p>数组在扩容的时候很麻烦,灵活性不够</p>
<h2 id="集合框架体系-P-500"><a href="#集合框架体系-P-500" class="headerlink" title="集合框架体系   (P.500)"></a>集合框架体系   (P.500)</h2><p>单列集合 –&gt; 一个一个存放</p>
<p><img src="/./../images/image-20230323155521713.png" alt="image-20230323155521713"></p>
<p>双列集合 –&gt; 按照键值对存放</p>
<p><img src="/./../images/image-20230323155729932.png" alt="image-20230323155729932"></p>
<h2 id="Collection接口遍历元素的方式–Iterator-迭代器"><a href="#Collection接口遍历元素的方式–Iterator-迭代器" class="headerlink" title="Collection接口遍历元素的方式–Iterator(迭代器)"></a>Collection接口遍历元素的方式–Iterator(迭代器)</h2><h3 id="iterator-方式"><a href="#iterator-方式" class="headerlink" title="iterator 方式"></a>iterator 方式</h3><p><img src="/./../images/image-20230323161335995.png" alt="image-20230323161335995"></p>
<h3 id="增强for-foreach-方式-–-底层仍然是迭代器"><a href="#增强for-foreach-方式-–-底层仍然是迭代器" class="headerlink" title="增强for (foreach) 方式 –&gt; 底层仍然是迭代器"></a>增强for (foreach) 方式 –&gt; 底层仍然是迭代器</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">demo01</span> &#123;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;&#123;all&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">arrayList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        arrayList.add(<span class="string">&quot;老王&quot;</span>);</span><br><span class="line">        arrayList.add(<span class="number">100</span>);</span><br><span class="line">        arrayList.add(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//遍历这个集合</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> arrayList.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//foreach 方法</span></span><br><span class="line">        System.out.println(<span class="string">&quot;foreach 方法&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object obj :</span><br><span class="line">                arrayList) &#123;</span><br><span class="line">            System.out.println(obj);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//老王</span></span><br><span class="line">        <span class="comment">//100</span></span><br><span class="line">        <span class="comment">//true</span></span><br><span class="line">        <span class="comment">//foreach 方法</span></span><br><span class="line">        <span class="comment">//老王</span></span><br><span class="line">        <span class="comment">//100</span></span><br><span class="line">        <span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="List接口常用方法-细化到子接口"><a href="#List接口常用方法-细化到子接口" class="headerlink" title="List接口常用方法 ,细化到子接口"></a>List接口常用方法 ,细化到子接口</h2><p><font>List接口特点:</font></p>
<ol>
<li>List集合中的元素是&#x3D;&#x3D;有序的&#x3D;&#x3D;(即添加顺序与取出顺序一致),且&#x3D;&#x3D;可重复&#x3D;&#x3D;</li>
<li>List集合中的每个元素都有其对应的顺序,即&#x3D;&#x3D;支持索引&#x3D;&#x3D;(从0开始)</li>
</ol>
<p><font>常用方法:</font></p>
<p><img src="/./../images/image-20230323165128852.png" alt="image-20230323165128852"></p>
<h2 id="ArrayList底层结构和源码分析"><a href="#ArrayList底层结构和源码分析" class="headerlink" title="ArrayList底层结构和源码分析"></a>ArrayList底层结构和源码分析</h2><p><font title="yellow">!!!注意:</font></p>
<ol>
<li>可以放入null,并且可以放多个</li>
<li>ArrayList是由数组来实现数据存储的</li>
<li>ArrayList基本等同于Vector,除了ArrayList是&#x3D;&#x3D;线程不安全&#x3D;&#x3D;(执行效率高),在多线程情况下,不推荐使用ArrayList</li>
</ol>
<h3 id="底层源码分析-重点-难点-P-510"><a href="#底层源码分析-重点-难点-P-510" class="headerlink" title="底层源码分析    重点,难点    (P.510)"></a>底层源码分析    <span alt="shake">重点,难点</span>    (P.510)</h3><p><img src="/./../images/image-20230323174007676.png" alt="image-20230323174007676"></p>
<p>添加进去的元素存在object[ ] elementData 这个对象数组中,这个数组&#x3D;&#x3D;不是静态的&#x3D;&#x3D;</p>
<h4 id="无参构造器"><a href="#无参构造器" class="headerlink" title="无参构造器"></a>无参构造器</h4><p><img src="/./../images/ArrayList%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B61.png" alt="ArrayList底层机制1"></p>
<p>minCapaticy 值的来历:</p>
<p><img src="/./assets/image-20230324084305846.png" alt="image-20230324084305846"></p>
<p>minCapaticy这个东西是数组大小size+1,因为初始化的时候,elementData[] 大小为0,所以minCapaticy 初始是1;</p>
<p>等到最后一个空间将要被占用的时候,就会扩容了</p>
<hr>
<h4 id="有参构造器"><a href="#有参构造器" class="headerlink" title="有参构造器"></a>有参构造器</h4><p><img src="/./../images/image-20230323210547119.png" alt="image-20230323210547119"></p>
<h2 id="Vector-底层机构和源码剖析"><a href="#Vector-底层机构和源码剖析" class="headerlink" title="Vector 底层机构和源码剖析"></a>Vector 底层机构和源码剖析</h2><p><img src="/./../images/image-20230324085852344.png" alt="image-20230324085852344"></p>
<h3 id="Vector与ArrayList比较"><a href="#Vector与ArrayList比较" class="headerlink" title="Vector与ArrayList比较"></a>Vector与ArrayList比较</h3><p><img src="/./../images/image-20230324090016435.png" alt="image-20230324090016435"></p>
<h3 id="底层机制分析"><a href="#底层机制分析" class="headerlink" title="底层机制分析"></a>底层机制分析</h3><p><img src="/./../images/Vector%E5%BA%95%E5%B1%82%E5%88%86%E6%9E%90-1699511734768-2.png" alt="Vector底层分析"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">demo01</span> &#123;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;&#123;all&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//Vector vector = new Vector();</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">//for (int i = 0; i &lt; 10; i++) &#123;</span></span><br><span class="line">        <span class="comment">//    vector.add(i);</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        <span class="comment">//for (int i = 0; i &lt; 5; i++) &#123;</span></span><br><span class="line">        <span class="comment">//    vector.add(i + 10);</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        <span class="type">ArrayList</span> <span class="variable">arrayList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            arrayList.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            arrayList.add(i + <span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote alt="warn"><p>可以使用上面这段代码debug一下,具体体会</p></blockquote>

<h2 id="LinkedList-底层机构刨析"><a href="#LinkedList-底层机构刨析" class="headerlink" title="LinkedList 底层机构刨析"></a>LinkedList 底层机构刨析</h2><p><img src="/./../images/image-20230324100732361.png" alt="image-20230324100732361"></p>
<p><img src="/./../images/LinkedList(%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8)%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81%E6%9C%BA%E5%88%B6.png" alt="LinkedList(双向链表)底层源码机制"></p>
<p><img src="/./../images/image-20230325081829730.png" alt="image-20230325081829730"></p>
<h2 id="Set-接口和常用方法"><a href="#Set-接口和常用方法" class="headerlink" title="Set 接口和常用方法"></a>Set 接口和常用方法</h2><ol>
<li>&#x3D;&#x3D;无序&#x3D;&#x3D;(添加和取出的顺序不一致),没有索引</li>
<li>&#x3D;&#x3D;不允许重复元素&#x3D;&#x3D;,(所以最多一个null)</li>
<li>遍历:<ol>
<li>不能用for循环</li>
<li>可以增强for,迭代器</li>
</ol>
</li>
</ol>
<h2 id="HashSet中的两个容易混淆的关键"><a href="#HashSet中的两个容易混淆的关键" class="headerlink" title="&#x3D;&#x3D;HashSet中的两个容易混淆的关键&#x3D;&#x3D;"></a>&#x3D;&#x3D;HashSet中的两个容易混淆的关键&#x3D;&#x3D;</h2><p>先看要添加的位置有没有人,再看是否能够追加(要添加位置上有结点才会判断hash值是否相同,如果不满足长条件的话,就追加到该结点后面,或者再判断后面的结点)</p>
<p>能不能加进来是看</p>
<p><img src="/./../images/image-20230731095417783.png" alt="image-20230731095417783"></p>
<p>要添加到哪个位置是看</p>
<p><img src="/./../images/image-20230731095520256.png" alt="image-20230731095520256"></p>
<h2 id="HashSet-–-底层仍然是-HashMap-P-522"><a href="#HashSet-–-底层仍然是-HashMap-P-522" class="headerlink" title="HashSet  –&gt;底层仍然是 HashMap(P.522)"></a>HashSet  –&gt;底层仍然是 HashMap(P.522)</h2><h3 id="第一次HashSet-add"><a href="#第一次HashSet-add" class="headerlink" title="第一次HashSet.add( )"></a>第一次HashSet.add( )</h3><p><img src="/./../images/HashSet%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6.png" alt="HashSet底层机制"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> V <span class="title function_">putVal</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">boolean</span> onlyIfAbsent,</span></span><br><span class="line"><span class="params">               <span class="type">boolean</span> evict)</span> &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="type">int</span> n, i;</span><br><span class="line">    <span class="comment">//类成员 transient Node&lt;K,V&gt;[] table;</span></span><br><span class="line">    <span class="comment">//如果当前table是null,或者大小=0</span></span><br><span class="line">    <span class="comment">//就是第一次扩容,到16的空间</span></span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="literal">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">        <span class="comment">//这里的逻辑应该是:每次把对象属性table[] 赋值给这个局部变量tab[],</span></span><br><span class="line">        <span class="comment">//tab[] 按理来说 应该还要赋值给 table[]啊!!</span></span><br><span class="line">        n = (tab = resize()).length;<span class="comment">//resize() 扩容tab 执行完这句,tab已经变成了一个[16]数组</span></span><br><span class="line">    <span class="comment">//(1)根据key,得到hash 去计算该key 应该存放到table表的哪个索引位置</span></span><br><span class="line">    <span class="comment">//  并把这个位置的对象,赋值给p</span></span><br><span class="line">    <span class="comment">//(2)判断p 是否为null</span></span><br><span class="line">    <span class="comment">//   (2.1)如果p 为null,表示还没有存放元素,就创建一个Node结点</span></span><br><span class="line">    <span class="comment">//   (2.2)就放在该位置tab[i]=newNode(hash,key,value,null);</span></span><br><span class="line">    <span class="comment">//	 存放hash 的原因是后面加进来的对象,我们要判断是否为同一个对象</span></span><br><span class="line">    <span class="comment">//算出要存放的位置i,如果位置为空,直接放</span></span><br><span class="line">    <span class="comment">//存放的位置是根据表的大小和添加结点的hash值确定的</span></span><br><span class="line">    <span class="comment">//(如果结点返回的hash值相同,就会算出存放到同一个位置)</span></span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span>)<span class="comment">//(n - 1) &amp; hash]计算应该改在哪一个位置存放</span></span><br><span class="line">        <span class="comment">//如果算出来后发现这个位置没有人,就放在这个位置,如果有人,就跳到下面去判断,看看是否是一个对象,或者是否这个key的值相同</span></span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="literal">null</span>);<span class="comment">//新结点放到这个tab[]中</span></span><br><span class="line">    <span class="keyword">else</span> &#123;<span class="comment">//i的位置有结点,判断是否要进行追加</span></span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;<span class="comment">//如果这两个hash值相同,并且要加入的key等于这个位置的key,或者key不同但是key的内容相同(像String已经重写了equal方法的,虽说new两个对象后,key不相同,但是如果字符串内容相同,也会导致新值加不进去),就加不进去</span></span><br><span class="line">            ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            e = p; <span class="comment">//后面肯定会对e 做判断</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//逐一判断这个链表和要添加的结点</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                <span class="comment">//p的下一个结点如果为空,就添加到p的下一个结点</span></span><br><span class="line">                <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">                    p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                    <span class="comment">//如果binCount固定值,就会将表转换成红黑树</span></span><br><span class="line">                    <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//如果链表中有个结点和添加结点相同,直接break</span></span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                p = e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">            <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">            <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                e.value = value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="keyword">return</span> oldValue;<span class="comment">//添加失败返回的是那个值</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    <span class="keyword">if</span> (++size &gt; threshold)<span class="comment">//如果超过临界值大小,就扩容了</span></span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;<span class="comment">//!!!注意,这是成功了</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Node&lt;K,V&gt;[] resize() &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] oldTab = table;</span><br><span class="line">    <span class="type">int</span> <span class="variable">oldCap</span> <span class="operator">=</span> (oldTab == <span class="literal">null</span>) ? <span class="number">0</span> : oldTab.length;</span><br><span class="line">    <span class="type">int</span> <span class="variable">oldThr</span> <span class="operator">=</span> threshold;</span><br><span class="line">    <span class="type">int</span> newCap, newThr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (oldCap &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (oldCap &gt;= MAXIMUM_CAPACITY) &#123;</span><br><span class="line">            threshold = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">return</span> oldTab;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//这里就把容量扩大了一倍</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((newCap = oldCap &lt;&lt; <span class="number">1</span>) &lt; MAXIMUM_CAPACITY &amp;&amp;</span><br><span class="line">                 oldCap &gt;= DEFAULT_INITIAL_CAPACITY)</span><br><span class="line">            newThr = oldThr &lt;&lt; <span class="number">1</span>; <span class="comment">// double threshold,加载因子也扩大了一倍</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (oldThr &gt; <span class="number">0</span>) <span class="comment">// initial capacity was placed in threshold</span></span><br><span class="line">        newCap = oldThr;</span><br><span class="line">    <span class="keyword">else</span> &#123;               <span class="comment">// zero initial threshold signifies using defaults</span></span><br><span class="line">        newCap = DEFAULT_INITIAL_CAPACITY;<span class="comment">//算出了数组默认的大小(16)</span></span><br><span class="line">        <span class="comment">//DEFAULT_LOAD_FACTOR 加载因子</span></span><br><span class="line">        <span class="comment">//newThr 临界值,不会把数组用完再扩容,达到临界值就进行扩容,防止操作量大的时候,出现阻塞</span></span><br><span class="line">        newThr = (<span class="type">int</span>)(DEFAULT_LOAD_FACTOR * DEFAULT_INITIAL_CAPACITY);<span class="comment">//0.75</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (newThr == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">float</span> <span class="variable">ft</span> <span class="operator">=</span> (<span class="type">float</span>)newCap * loadFactor;</span><br><span class="line">        newThr = (newCap &lt; MAXIMUM_CAPACITY &amp;&amp; ft &lt; (<span class="type">float</span>)MAXIMUM_CAPACITY ?</span><br><span class="line">                  (<span class="type">int</span>)ft : Integer.MAX_VALUE);</span><br><span class="line">    &#125;</span><br><span class="line">    threshold = newThr;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&#123;&quot;rawtypes&quot;,&quot;unchecked&quot;&#125;)</span></span><br><span class="line">        Node&lt;K,V&gt;[] newTab = (Node&lt;K,V&gt;[])<span class="keyword">new</span> <span class="title class_">Node</span>[newCap];<span class="comment">//创建了一个[16]的新数组</span></span><br><span class="line">    table = newTab;</span><br><span class="line">   ...<span class="comment">//!!!省略,太长,打断点去看源码</span></span><br><span class="line">    <span class="keyword">return</span> newTab;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第三次HashSet-add-添加相同的对象"><a href="#第三次HashSet-add-添加相同的对象" class="headerlink" title="第三次HashSet.add( )   添加相同的对象"></a>第三次HashSet.add( )   添加相同的对象</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> V <span class="title function_">putVal</span><span class="params">(<span class="type">int</span> hash, K key, V value, <span class="type">boolean</span> onlyIfAbsent,</span></span><br><span class="line"><span class="params">               <span class="type">boolean</span> evict)</span> &#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="type">int</span> n, i;</span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="literal">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="literal">null</span>)</span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="comment">//如果当前索引位置对应的而第一个元素与准备添加的key的hash值一样,</span></span><br><span class="line">        <span class="comment">//在上面已经发现了,p 这个位置不为空,所以开始判断</span></span><br><span class="line">        <span class="comment">//(1) p--&gt;Node.hash是否等于要添加值的hash</span></span><br><span class="line">        <span class="comment">//(2) 1.判断准备加入的key和p指向的Node 结点的key 是同一个对象</span></span><br><span class="line">        <span class="comment">//    2.或者不是同一个对象,但是要添加对象的值等于p.key (!!!这个应该是给引用类		//      型的变量用的,**变相的解释了为啥添加两个new String(&quot;java&quot;)时添加不进		//      去的原因**)</span></span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">            ((k = p.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            e = p;</span><br><span class="line">        <span class="comment">//判断 p 是不是一棵红黑树</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="built_in">this</span>, tab, hash, key, value);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//如果table对应索引位置,已经是一个链表了,就使用for循环比较</span></span><br><span class="line">            <span class="comment">//(1) 依次和该链表的每一个元素比较后,都不相同,则添加到该链表的最后</span></span><br><span class="line">            <span class="comment">//(2) 一次和该链表的每一个元素比较过程中,如果有相同情况,就直接break</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">binCount</span> <span class="operator">=</span> <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((e = p.next) == <span class="literal">null</span>) &#123;</span><br><span class="line">                    p.next = newNode(hash, key, value, <span class="literal">null</span>);</span><br><span class="line">                    <span class="comment">//把元素添加到该链表后,立即判断该链表是是否已经打到8个结点,</span></span><br><span class="line">                    <span class="comment">//true的话,调用treeifyBin(tab, hash),转化成红黑树</span></span><br><span class="line">                    <span class="comment">//1. 当前链表有8 个结点</span></span><br><span class="line">                    <span class="comment">//2. 而且tab数组有64个空间 </span></span><br><span class="line">                    <span class="comment">//满足1,2 就进行树化,没满足2 ,只是进行扩容tab</span></span><br><span class="line">                    <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="literal">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                p = e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">            <span class="type">V</span> <span class="variable">oldValue</span> <span class="operator">=</span> e.value;</span><br><span class="line">            <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="literal">null</span>)</span><br><span class="line">                e.value = value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/./../images/image-20230325162043659.png" alt="image-20230325162043659"></p>
<blockquote alt="warn">
    <p>
        <font>!!!这行是关键</font>:这行决定了在hash 值相同的情况下,<span alt="underline">判断的是 key 的值,</span>而不是 Value 的值,没有 Value 什么事
    </p>
</blockquote>
![image-20230727193911483](./../images/image-20230727193911483.png)

<p><img src="/./../images/image-20230325164011111.png" alt="image-20230325164011111"></p>
<p>&#x3D;&#x3D;equals() 是程序员确定的–是可以重写的&#x3D;&#x3D;</p>
<h3 id="对于此问题"><a href="#对于此问题" class="headerlink" title="对于此问题"></a>对于此问题</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map.put(<span class="literal">null</span>, <span class="string">&quot;add null&quot;</span>);</span><br><span class="line">map.put(<span class="number">0</span>, <span class="string">&quot;be replaced&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>虽然null作为key之后,在hashmap中 hash值为0,而且0的hash值也为0,但是两个key并不相同(有后续判断)</p>
<hr>
<p><img src="/./../images/image-20230325164254386.png" alt="image-20230325164254386"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 打断点,看看效果</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSet_</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//查看hashset的扩容与树化机制</span></span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">12</span>; i++) &#123;</span><br><span class="line">            hashSet.add(<span class="keyword">new</span> <span class="title class_">A</span>(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">A</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;!!!注意(别忽略了还有个扩容机制):&#x3D;&#x3D;在HashSet中,每插入一个元素,他的size属性会+ 1 ,当他大于临界值的时候,又会触发扩容机制.</p>
<h4 id="扩容机制有2种"><a href="#扩容机制有2种" class="headerlink" title="扩容机制有2种"></a>扩容机制有2种</h4><ol>
<li>转化成红黑树的条件1(一条链表上有8 个结点) 满足了.</li>
<li>rize 大小到达临界值.</li>
</ol>
<hr>
<h4 id="练习"><a href="#练习" class="headerlink" title="练习:"></a>练习:</h4><p><img src="/./../images/image-20230325175433431.png" alt="image-20230325175433431"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSet_</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line"></span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;laowang&quot;</span>, <span class="number">18</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;xiaozhang&quot;</span>, <span class="number">30</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;laowang&quot;</span>, <span class="number">18</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;hashset=&quot;</span> + hashSet);</span><br><span class="line">        <span class="comment">//没有重写hashCode()之前,是能添加进去的</span></span><br><span class="line">        <span class="comment">//hashset=[Employee&#123;name=&#x27;xiaozhang&#x27;, age=30&#125;, Employee&#123;name=&#x27;laowang&#x27;, age=18&#125;, Employee&#123;name=&#x27;laowang&#x27;, age=18&#125;]</span></span><br><span class="line">        <span class="comment">//重写之后,第三个就添加不进去了</span></span><br><span class="line">        <span class="comment">//hashset=[Employee&#123;name=&#x27;laowang&#x27;, age=18&#125;, Employee&#123;name=&#x27;xiaozhang&#x27;, age=30&#125;]</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Employee&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> (Employee) o;</span><br><span class="line">        <span class="keyword">return</span> age == employee.age &amp;&amp;</span><br><span class="line">                Objects.equals(name, employee.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/./../images/image-20230325181328731.png" alt="image-20230325181328731"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSet_</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;laowang&quot;</span>, <span class="number">4000</span>, <span class="number">2002</span>, <span class="number">1</span>, <span class="number">1</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;laozhao&quot;</span>, <span class="number">4000</span>, <span class="number">2002</span>, <span class="number">2</span>, <span class="number">2</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;laowang&quot;</span>, <span class="number">4000</span>, <span class="number">2002</span>, <span class="number">1</span>, <span class="number">1</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;laowang&quot;</span>, <span class="number">4000</span>, <span class="number">2002</span>, <span class="number">3</span>, <span class="number">3</span>));</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;laowang&quot;</span>, <span class="number">4000</span>, <span class="number">2002</span>, <span class="number">1</span>, <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(hashSet);</span><br><span class="line">        <span class="comment">//没有重写hashCode()之前,都能加进去</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        [Employee&#123;name=&#x27;laowang&#x27;, sal=4000, birthday=MyDate&#123;year=2002, mouth=1, day=1&#125;&#125;,</span></span><br><span class="line"><span class="comment">        Employee&#123;name=&#x27;laozhao&#x27;, sal=4000, birthday=MyDate&#123;year=2002, mouth=2, day=2&#125;&#125;,</span></span><br><span class="line"><span class="comment">        Employee&#123;name=&#x27;laowang&#x27;, sal=4000, birthday=MyDate&#123;year=2002, mouth=1, day=1&#125;&#125;]</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="comment">/*重写方法之后</span></span><br><span class="line"><span class="comment">        [Employee&#123;name=&#x27;laozhao&#x27;, sal=4000, birthday=MyDate&#123;year=2002, mouth=2, day=2&#125;&#125;,</span></span><br><span class="line"><span class="comment">        Employee&#123;name=&#x27;laowang&#x27;, sal=4000, birthday=MyDate&#123;year=2002, mouth=1, day=1&#125;&#125;,</span></span><br><span class="line"><span class="comment">        Employee&#123;name=&#x27;laowang&#x27;, sal=4000, birthday=MyDate&#123;year=2002, mouth=3, day=3&#125;&#125;]</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> sal;</span><br><span class="line">    <span class="keyword">private</span> MyDate birthday;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">int</span> sal, <span class="type">int</span> year,<span class="type">int</span> mouth,<span class="type">int</span> day)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sal = sal;</span><br><span class="line">        <span class="built_in">this</span>.birthday = getInstance(year, mouth, day);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span>  MyDate <span class="title function_">getInstance</span><span class="params">(<span class="type">int</span> year, <span class="type">int</span> mouth, <span class="type">int</span> day)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyDate</span>(year, mouth, day);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSal</span><span class="params">(<span class="type">int</span> sal)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sal = sal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> MyDate <span class="title function_">getBirthday</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBirthday</span><span class="params">(MyDate birthday)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">MyDate</span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> mouth;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> day;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">MyDate</span><span class="params">(<span class="type">int</span> year, <span class="type">int</span> mouth, <span class="type">int</span> day)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.year = year;</span><br><span class="line">            <span class="built_in">this</span>.mouth = mouth;</span><br><span class="line">            <span class="built_in">this</span>.day = day;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getYear</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> year;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setYear</span><span class="params">(<span class="type">int</span> year)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.year = year;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMouth</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mouth;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMouth</span><span class="params">(<span class="type">int</span> mouth)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.mouth = mouth;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDay</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> day;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDay</span><span class="params">(<span class="type">int</span> day)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.day = day;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;MyDate&#123;&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;year=&quot;</span> + year +</span><br><span class="line">                    <span class="string">&quot;, mouth=&quot;</span> + mouth +</span><br><span class="line">                    <span class="string">&quot;, day=&quot;</span> + day +</span><br><span class="line">                    <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="type">MyDate</span> <span class="variable">myDate</span> <span class="operator">=</span> (MyDate) o;</span><br><span class="line">            <span class="keyword">return</span> year == myDate.year &amp;&amp;</span><br><span class="line">                    mouth == myDate.mouth &amp;&amp;</span><br><span class="line">                    day == myDate.day;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> Objects.hash(year, mouth, day);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Employee&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, sal=&quot;</span> + sal +</span><br><span class="line">                <span class="string">&quot;, birthday=&quot;</span> + birthday +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> (Employee) o;</span><br><span class="line">        <span class="keyword">return</span> Objects.equals(name, employee.name) &amp;&amp;</span><br><span class="line">                Objects.equals(birthday, employee.birthday);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, birthday);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="LinkedHashSet-HashSet的子类"><a href="#LinkedHashSet-HashSet的子类" class="headerlink" title="LinkedHashSet    HashSet的子类"></a>LinkedHashSet    HashSet的子类</h2><p><img src="/./../images/image-20230326094723135.png" alt="image-20230326094723135"></p>
<ol>
<li><p>LinkedHashSet  底层维护的是一个LinkedHashMap(是HashMap的子类)</p>
</li>
<li><p>LinkedHashSet 底层结构–&gt; 数组+双向链表</p>
</li>
<li><p>添加第一次时,直接将数组table扩容到16, 存放的结点类型时 LinkedHashMap$Entry</p>
</li>
<li><p>数组是HashMap$Node[] 存放发的元素&#x2F;数据是&#x3D;&#x3D;LinkedHashMap$Entry类型&#x3D;&#x3D;(多态数组)6</p>
</li>
</ol>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
        
          <li><a href="/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://github.com/Suchanglii/Suchanglii.github.io">Projects</a></li>
        
      </ul>
    </div>

    
    
      <div id="toc-footer" style="display: none">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">1.</span> <span class="toc-text">集合</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E4%BD%93%E7%B3%BB-P-500"><span class="toc-number">1.1.</span> <span class="toc-text">集合框架体系   (P.500)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection%E6%8E%A5%E5%8F%A3%E9%81%8D%E5%8E%86%E5%85%83%E7%B4%A0%E7%9A%84%E6%96%B9%E5%BC%8F%E2%80%93Iterator-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">1.2.</span> <span class="toc-text">Collection接口遍历元素的方式–Iterator(迭代器)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#iterator-%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">iterator 方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%BC%BAfor-foreach-%E6%96%B9%E5%BC%8F-%E2%80%93-%E5%BA%95%E5%B1%82%E4%BB%8D%E7%84%B6%E6%98%AF%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">1.2.2.</span> <span class="toc-text">增强for (foreach) 方式 –&gt; 底层仍然是迭代器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List%E6%8E%A5%E5%8F%A3%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-%E7%BB%86%E5%8C%96%E5%88%B0%E5%AD%90%E6%8E%A5%E5%8F%A3"><span class="toc-number">1.3.</span> <span class="toc-text">List接口常用方法 ,细化到子接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ArrayList%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84%E5%92%8C%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-number">1.4.</span> <span class="toc-text">ArrayList底层结构和源码分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E9%87%8D%E7%82%B9-%E9%9A%BE%E7%82%B9-P-510"><span class="toc-number">1.4.1.</span> <span class="toc-text">底层源码分析    重点,难点    (P.510)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E5%8F%82%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">无参构造器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E5%8F%82%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">有参构造器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vector-%E5%BA%95%E5%B1%82%E6%9C%BA%E6%9E%84%E5%92%8C%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90"><span class="toc-number">1.5.</span> <span class="toc-text">Vector 底层机构和源码剖析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector%E4%B8%8EArrayList%E6%AF%94%E8%BE%83"><span class="toc-number">1.5.1.</span> <span class="toc-text">Vector与ArrayList比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6%E5%88%86%E6%9E%90"><span class="toc-number">1.5.2.</span> <span class="toc-text">底层机制分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LinkedList-%E5%BA%95%E5%B1%82%E6%9C%BA%E6%9E%84%E5%88%A8%E6%9E%90"><span class="toc-number">1.6.</span> <span class="toc-text">LinkedList 底层机构刨析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set-%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.</span> <span class="toc-text">Set 接口和常用方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashSet%E4%B8%AD%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%AE%B9%E6%98%93%E6%B7%B7%E6%B7%86%E7%9A%84%E5%85%B3%E9%94%AE"><span class="toc-number">1.8.</span> <span class="toc-text">&#x3D;&#x3D;HashSet中的两个容易混淆的关键&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashSet-%E2%80%93-%E5%BA%95%E5%B1%82%E4%BB%8D%E7%84%B6%E6%98%AF-HashMap-P-522"><span class="toc-number">1.9.</span> <span class="toc-text">HashSet  –&gt;底层仍然是 HashMap(P.522)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AC%A1HashSet-add"><span class="toc-number">1.9.1.</span> <span class="toc-text">第一次HashSet.add( )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AC%A1HashSet-add-%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%90%8C%E7%9A%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.9.2.</span> <span class="toc-text">第三次HashSet.add( )   添加相同的对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8E%E6%AD%A4%E9%97%AE%E9%A2%98"><span class="toc-number">1.9.3.</span> <span class="toc-text">对于此问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6%E6%9C%892%E7%A7%8D"><span class="toc-number">1.9.3.1.</span> <span class="toc-text">扩容机制有2种</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">1.9.3.2.</span> <span class="toc-text">练习:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LinkedHashSet-HashSet%E7%9A%84%E5%AD%90%E7%B1%BB"><span class="toc-number">1.10.</span> <span class="toc-text">LinkedHashSet    HashSet的子类</span></a></li></ol></li></ol>
      </div>
    

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&text=ArrayList, HashSet 部分源码探究"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&is_video=false&description=ArrayList, HashSet 部分源码探究"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=ArrayList, HashSet 部分源码探究&body=Check out this article: http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/"><i class="fa-solid fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&title=ArrayList, HashSet 部分源码探究"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&name=ArrayList, HashSet 部分源码探究&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://suchanglii.github.io/2023/03/28/bilibili_java_%E9%9F%A9%E9%A1%BA%E5%B9%B3_%E9%9B%86%E5%90%88%E4%B8%8A/&t=ArrayList, HashSet 部分源码探究"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa-solid fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
          <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa-solid fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa-solid fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa-solid fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2023-2024
    Suchanglii
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a target="_blank" rel="noopener" href="https://github.com/Suchanglii/Suchanglii.github.io">Projects</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script>




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script>
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="fa-regular fa-clone"></i>';
    btn += '</span>';
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
